<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Match</title>   
  </head>
  <style>
        /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Firefox */
    input[type=number] {
      -moz-appearance: textfield;
    }

    button {
        margin-top: 1rem;
    }
    input{
        margin: .5rem;
    }
  </style>
  <body>
    <h1>Mach Exercise CONSOLA</h1>

    <script>
      let numeros = [1, 9, 5, 0, 20, -4, 12, 16, 7];
      const ejercicioMatch = (n, sum1) => {
        let map = new Map();
        //recorro el array y armo el map contando cuantas veces esta cada numero
        for (var i = 0; i < n; i++) {
          if (!map.has(numeros[i])) {
            map.set(numeros[i], 0);
          }
      
          map.set(numeros[i], map.get(numeros[i]) + 1);
        }
        let parejas = [];
      
        for (i = 0; i < n; i++) {
          //comparo si da la suma
          let substract = sum1 - numeros[i];
          if (map.get(substract)) {
            //los ordeno para eliminar duplicados
            parejas[i] = [substract, numeros[i]].sort();
          }
          //elimino numeros repetidos
          if (substract == numeros[i]) {
            // console.log("hay un repetido y es", numeros[i], i);
            parejas.splice(i, i);
          }
        }
        let filtered = parejas.filter(((t = {}), (a) => !(t[a] = a in t)));
      
        return filtered.join(" + ");
      };
      let sum1 = 12;
      const a3 = performance.now();
      document.write(
        `PARES ENCONTRADOS QUE SUMAN ${sum1} => ` +
          ejercicioMatch(numeros.length, sum1)
      );
      const a4 = performance.now();
      console.log(`Time: ${a3 - a4}`);
      

    </script>
  </body>
</html>
